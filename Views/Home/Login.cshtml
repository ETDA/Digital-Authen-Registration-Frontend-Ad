@model UAF_Frontend_Registration.Models.User


@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row justify-content-md-center">

    <div class="col-md-6">

        <p style="text-align: center">
            <img src="~/ogo_digiAuthen_2.png" width="250" height="190"
                 alt="" />
        </p>

        <p style="text-align: center;font-size: 25px;color: #FFC107" @*class="font"*@>
            Please Login by Your Staff Account
        </p>

        @if (!string.IsNullOrEmpty(@Model.login_status))
        {
            <div class="alert alert-danger d-flex align-items-center" id="loginAlert">
                @Model.login_status
            </div>
            <script type="text/javascript">
                setTimeout(function () {

                    // Closing the alert
                    $('#loginAlert').alert('close');
                }, 7000);
            </script>
        }

        <div class="card-body">
            @using (Html.BeginForm("Login", "Home", FormMethod.Post))
            {
                <div class="form-group">
                    @Html.LabelFor(m => m.Email@*, new { @class = "font" }*@)
                    @Html.TextBoxFor(m => m.Email, "", new { @class = "form-control-reg", @placeholder = "xxxx@email.com", required = "required", type = "email", @id = "usrName" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Password@*, new { @class = "font" }*@)
                    @Html.PasswordFor(m => m.Password, new { @class = "form-control-reg", @placeholder = "Password", required = "required", @id = "passwd" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Activation_Code, "Activaion Code"@*, new { @class = "font" }*@)
                    @Html.PasswordFor(m => m.Activation_Code, new { @class = "form-control-reg", @placeholder = "Please fill an activation code from your email.", required = "required", @id = "actcode" })
                </div>
                <br />
                <div class="form-group" style="text-align:center">
                    <input type="submit" name="submit" class="btn btn-login" value="Login" onclick="getInputValue();" />
                </div>
                <div style="text-align: center;font-size: 20px;color: white" @*class="font"*@>
                    Helpdesk Support : helpdesk@etda.or.th
                </div>

                <p id="show_spiner"></p>
                <script>
                    function getInputValue() {
                        // Selecting the input element and get its value
                        var usrName = document.getElementById("usrName").value;
                        var passwd = document.getElementById("passwd").value;
                        var actcode = document.getElementById("actcode").value;

                        if (usrName !== '' && usrName.includes('@@') && passwd !== '' && actcode !== '') {
                            document.getElementById("show_spiner").innerHTML = "<div class=\"loading\"></div>";
                        }
                    }
                </script>
            }
        </div>
    </div>
</div>


